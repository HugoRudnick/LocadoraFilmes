{"ast":null,"code":"import api from './api';\nexport const ACTION_TYPES = {\n  CREATE: 'CREATE',\n  UPDATE: 'UPDATE',\n  DELETE: 'DELETE',\n  FETCH_ALL: 'FETCH_ALL'\n};\n\nconst formateData = data => ({ ...data,\n  age: parseInt(data.age ? data.age : 0)\n}); // funcao simplificada\n\n\nexport const fetchAll = () => dispatch => {\n  api.genero().fetchAllGenero().then(response => {\n    dispatch({\n      type: ACTION_TYPES.FETCH_ALL,\n      payload: response.data\n    });\n  }).catch(err => console.log(err));\n};\nexport const create = (data, onSuccess) => dispatch => {\n  data = formateData(data);\n  api.genero().create(data).then(res => {\n    dispatch({\n      type: ACTION_TYPES.CREATE,\n      payload: res.data\n    });\n    onSuccess();\n  }).catch(err => console.log(err));\n};\nexport const update = (id, data, onSuccess) => dispatch => {\n  data = formateData(data);\n  api.genero().update(id, data).then(res => {\n    dispatch({\n      type: ACTION_TYPES.UPDATE,\n      payload: {\n        id,\n        ...data\n      }\n    });\n    onSuccess();\n  }).catch(err => console.log(err));\n};\nexport const Delete = (id, onSuccess) => dispatch => {\n  api.genero().delete(id).then(res => {\n    dispatch({\n      type: ACTION_TYPES.DELETE,\n      payload: id\n    });\n    onSuccess();\n  }).catch(err => console.log(err));\n};\nexport const DeleteAll = onSuccess => dispatch => {\n  api.genero().deleteall().then(res => {\n    dispatch({\n      type: ACTION_TYPES.DELETE,\n      payload: id\n    });\n    onSuccess();\n  }).catch(err => console.log(err));\n}; // export const fetchAll = () => dispatch => {\n//     api.genero().fetchAll()\n//       .then(response => {\n//         dispatch({\n//           type: ACTION_TYPES.FETCH_ALL,\n//           payload: response.data\n//         })\n//       })\n//       .catch(err => console.log(err))\n//   }","map":{"version":3,"sources":["C:/Projetos/react-app/src/Actions/generos.js"],"names":["api","ACTION_TYPES","CREATE","UPDATE","DELETE","FETCH_ALL","formateData","data","age","parseInt","fetchAll","dispatch","genero","fetchAllGenero","then","response","type","payload","catch","err","console","log","create","onSuccess","res","update","id","Delete","delete","DeleteAll","deleteall"],"mappings":"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","sourcesContent":["import api from './api'\r\n\r\nexport const ACTION_TYPES = {\r\n  CREATE: 'CREATE',\r\n  UPDATE: 'UPDATE',\r\n  DELETE: 'DELETE',\r\n  FETCH_ALL: 'FETCH_ALL'\r\n}\r\n\r\nconst formateData = data =>({\r\n    ...data,\r\n    age:parseInt(data.age?data.age:0)\r\n})\r\n\r\n// funcao simplificada\r\nexport const fetchAll = () => dispatch => {\r\n  api.genero().fetchAllGenero()\r\n    .then(response => {\r\n      dispatch({\r\n        type: ACTION_TYPES.FETCH_ALL,\r\n        payload: response.data\r\n      })\r\n    })\r\n    .catch(err => console.log(err))\r\n}\r\n\r\nexport const create = (data, onSuccess) => dispatch => {\r\n    data = formateData(data)\r\n    api.genero().create(data)\r\n    .then(res =>{\r\n        dispatch({\r\n            type:ACTION_TYPES.CREATE,\r\n            payload : res.data\r\n        })\r\n        onSuccess()\r\n    })\r\n    .catch(err => console.log(err))\r\n}\r\n\r\nexport const update = (id, data, onSuccess) => dispatch => {\r\n    data = formateData(data)\r\n    api.genero().update(id,data)\r\n    .then(res =>{\r\n        dispatch({\r\n            type:ACTION_TYPES.UPDATE,\r\n            payload: { id, ...data }\r\n        })\r\n        onSuccess()\r\n    })\r\n    .catch(err => console.log(err))\r\n}    \r\n\r\nexport const Delete = (id,  onSuccess) => dispatch => {\r\n    api.genero().delete(id)\r\n    .then(res =>{\r\n        dispatch({\r\n            type:ACTION_TYPES.DELETE,\r\n            payload: id\r\n        })\r\n        onSuccess()\r\n    })\r\n    .catch(err => console.log(err))\r\n}\r\n\r\nexport const DeleteAll = (onSuccess) => dispatch => {\r\n    api.genero().deleteall()\r\n    .then(res =>{\r\n        dispatch({\r\n            type:ACTION_TYPES.DELETE,\r\n            payload: id\r\n        })\r\n        onSuccess()\r\n    })\r\n    .catch(err => console.log(err))\r\n}\r\n\r\n// export const fetchAll = () => dispatch => {\r\n//     api.genero().fetchAll()\r\n//       .then(response => {\r\n//         dispatch({\r\n//           type: ACTION_TYPES.FETCH_ALL,\r\n//           payload: response.data\r\n//         })\r\n//       })\r\n//       .catch(err => console.log(err))\r\n//   }\r\n"]},"metadata":{},"sourceType":"module"}